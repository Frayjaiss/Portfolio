#include "i8080InstructionData.h"

// ---------- Data definitions (only here, once) ----------
const std::unordered_map<std::string, Instruction> i8080Instructions = {
    {"NOP",  {1, "00000000"}},
    {"HLT",  {1, "01110110"}},
    {"RET",  {1, "11001001"}},
    {"MOV",  {1, "01DS"}},
    {"ADD",  {1, "10000D"}},
    {"ADC",  {1, "10001D"}},
    {"SUB",  {1, "10010D"}},
    {"SBB",  {1, "10011D"}},
    {"ANA",  {1, "10100D"}},
    {"XRA",  {1, "10101D"}},
    {"ORA",  {1, "10110D"}},
    {"CMP",  {1, "10111D"}},
    {"INR",  {1, "00D100"}},
    {"DCR",  {1, "00D101"}},
    {"INX",  {1, "00R0011"}},
    {"DCX",  {1, "00R1011"}},
    {"DAD",  {1, "00R1001"}},
    {"PUSH", {1, "11R0101"}},
    {"POP",  {1, "11R0001"}},
    {"RLC",  {1, "00000111"}},
    {"RRC",  {1, "00001111"}},
    {"RAL",  {1, "00010111"}},
    {"RAR",  {1, "00011111"}},
    {"DAA",  {1, "00100111"}},
    {"CMA",  {1, "00101111"}},
    {"STC",  {1, "00110111"}},
    {"CMC",  {1, "00111111"}},
    {"XCHG", {1, "11101011"}},
    {"XTHL", {1, "11100011"}},
    {"SPHL", {1, "11111001"}},
    {"PCHL", {1, "11101001"}},
    {"EI",   {1, "11111011"}},
    {"DI",   {1, "11110011"}},

    {"MVI",  {2, "00D110"}},
    {"ADI",  {2, "11000110"}},
    {"ACI",  {2, "11001110"}},
    {"SUI",  {2, "11010110"}},
    {"SBI",  {2, "11011110"}},
    {"ANI",  {2, "11100110"}},
    {"XRI",  {2, "11101110"}},
    {"ORI",  {2, "11110110"}},
    {"CPI",  {2, "11111110"}},
    {"IN",   {2, "11011011"}},
    {"OUT",  {2, "11010011"}},

    {"LXI",  {3, "00R0001"}},
    {"JMP",  {3, "11000011"}},
    {"JNZ",  {3, "11000010"}},
    {"JZ",   {3, "11001010"}},
    {"JNC",  {3, "11010010"}},
    {"JC",   {3, "11011010"}},
    {"JPO",  {3, "11100010"}},
    {"JPE",  {3, "11101010"}},
    {"JP",   {3, "11110010"}},
    {"JM",   {3, "11111010"}},

    {"CALL", {3, "11001101"}},
    {"CNZ",  {3, "11000100"}},
    {"CZ",   {3, "11001100"}},
    {"CNC",  {3, "11010100"}},
    {"CC",   {3, "11011100"}},
    {"CPO",  {3, "11100100"}},
    {"CPE",  {3, "11101100"}},
    {"CP",   {3, "11110100"}},
    {"CM",   {3, "11111100"}},

    {"STA",  {3, "00110010"}},
    {"LDA",  {3, "00111010"}},
    {"SHLD", {3, "00100010"}},
    {"LHLD", {3, "00101010"}},

    {"RST",  {1, "11N111"}}
};

const std::unordered_map<std::string, Reg> regCode = {
    {"B", Reg::B}, {"C", Reg::C}, {"D", Reg::D}, {"E", Reg::E},
    {"H", Reg::H}, {"L", Reg::L}, {"M", Reg::M}, {"A", Reg::A}
};

const std::unordered_map<std::string, Cond> condCode = {
    {"NZ", Cond::NZ}, {"Z", Cond::Z}, {"NC", Cond::NC}, {"C", Cond::C},
    {"PO", Cond::PO}, {"PE", Cond::PE}, {"P", Cond::P}, {"M", Cond::M}
};

const std::unordered_map<std::string, RP> rpCode = {
    {"BC", RP::BC}, {"DE", RP::DE}, {"HL", RP::HL}, {"SP", RP::SP},
    {"PSW", RP::SP}, // PUSH/POP special case
    {"B", RP::BC}, {"D", RP::DE}, {"H", RP::HL}
};
